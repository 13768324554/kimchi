<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#kimchi log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">13:01:33</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">13:01:33</span><span class="nk"> &lt;kimchi-bot&gt;</span> Meeting started Wed Sep 11 13:01:33 2013 UTC.  The chair is aglitke. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">13:01:33</span><span class="nk"> &lt;kimchi-bot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">13:01:39</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#meetingname </span><span class="cmdline">scrum</span>
<a name="l-5"></a><span class="tm">13:01:39</span><span class="nk"> &lt;kimchi-bot&gt;</span> The meeting name has been set to 'scrum'
<a name="l-6"></a><span class="tm">13:02:04</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#info </span><span class="cmdline">Agenda: 1) September release</span>
<a name="l-7"></a><span class="tm">13:02:09</span><span class="nk"> &lt;aglitke&gt;</span> anything else?
<a name="l-8"></a><span class="tm">13:02:20</span><span class="nk"> &lt;ming&gt;</span> storagepool delete and undefine
<a name="l-9"></a><span class="tm">13:02:34</span><span class="nk"> &lt;aglitke&gt;</span> yes...
<a name="l-10"></a><span class="tm">13:02:48</span><span class="nk"> &lt;ming&gt;</span> authentication session timeout...
<a name="l-11"></a><span class="tm">13:03:21</span><span class="nk"> &lt;aglitke&gt;</span> anything else?
<a name="l-12"></a><span class="tm">13:03:39</span><span class="nk"> &lt;royce&gt;</span> looks good to me
<a name="l-13"></a><span class="tm">13:03:44</span><span class="nk"> &lt;aglitke&gt;</span> ok...
<a name="l-14"></a><span class="tm">13:03:50</span><span class="nk"> &lt;aglitke&gt;</span> <span class="topic">#topic </span><span class="topicline">September release</span>
<a name="l-15"></a><span class="tm">13:03:55</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#link </span><span class="cmdline">https://github.com/kimchi-project/kimchi/wiki/Todo-September-Base</span>
<a name="l-16"></a><span class="tm">13:04:06</span><span class="nk"> &lt;zhoumeina&gt;</span> we have festival next thursday. so we have to make to good plan to ensure that we can finish them.I think.
<a name="l-17"></a><span class="tm">13:04:15</span><span class="nk"> &lt;aglitke&gt;</span> AdamKingIT and I made sure this was updated yesterday
<a name="l-18"></a><span class="tm">13:04:22</span><span class="nk"> &lt;zhoumeina&gt;</span> yes
<a name="l-19"></a><span class="tm">13:04:27</span><span class="nk"> &lt;aglitke&gt;</span> yes.  This was one thing I wanted to talk about.
<a name="l-20"></a><span class="tm">13:04:51</span><span class="nk"> &lt;aglitke&gt;</span> Is everyone here up to next Wednesday?
<a name="l-21"></a><span class="tm">13:05:38</span><span class="nk"> &lt;alinefm&gt;</span> I will =)
<a name="l-22"></a><span class="tm">13:05:52</span><span class="nk"> &lt;royce&gt;</span> seems we'll have holiday from Thursday, hopefully we can have Wed scrum
<a name="l-23"></a><span class="tm">13:05:52</span><span class="nk"> &lt;AdamKingIT&gt;</span> I will be on vacation, but I'll think of you all
<a name="l-24"></a><span class="tm">13:05:53</span><span class="nk"> &lt;aglitke&gt;</span> Actually if the backend team could send me an email with vacation plans and the ui team could discuss with AdamKingIT that would be great.
<a name="l-25"></a><span class="tm">13:05:56</span><span class="nk"> &lt;zhoumeina&gt;</span> me too
<a name="l-26"></a><span class="tm">13:06:16</span><span class="nk"> &lt;aglitke&gt;</span> How long does the holiday last?
<a name="l-27"></a><span class="tm">13:06:24</span><span class="nk"> &lt;royce&gt;</span> 3 days
<a name="l-28"></a><span class="tm">13:06:31</span><span class="nk"> &lt;zhoumeina&gt;</span> 19th ~21th
<a name="l-29"></a><span class="tm">13:06:32</span><span class="nk"> &lt;hlwanghl&gt;</span> 19-21
<a name="l-30"></a><span class="tm">13:06:35</span><span class="nk"> &lt;aglitke&gt;</span> ok, so everyone is back on Monday?
<a name="l-31"></a><span class="tm">13:06:43</span><span class="nk"> &lt;royce&gt;</span> we go back to work on Sunday:P
<a name="l-32"></a><span class="tm">13:06:49</span><span class="nk"> &lt;zhoumeina&gt;</span> some one want to take vocation I think
<a name="l-33"></a><span class="tm">13:06:52</span><span class="nk"> &lt;hlwanghl&gt;</span> Sunday actually
<a name="l-34"></a><span class="tm">13:06:55</span><span class="nk"> &lt;aglitke&gt;</span> oh, wow.  OK.
<a name="l-35"></a><span class="tm">13:07:08</span><span class="nk"> &lt;ming&gt;</span> Also, we have a long vacation from oct.1
<a name="l-36"></a><span class="tm">13:07:19</span><span class="nk"> &lt;ming&gt;</span> lasting for seven days.
<a name="l-37"></a><span class="tm">13:07:20</span><span class="nk"> &lt;aglitke&gt;</span> Let's see what we can accomplish prior to next Thursday
<a name="l-38"></a><span class="tm">13:07:27</span><span class="nk"> &lt;aglitke&gt;</span> ok,
<a name="l-39"></a><span class="tm">13:07:29</span><span class="nk"> &lt;zhoumeina&gt;</span> Oct 1st~7th
<a name="l-40"></a><span class="tm">13:07:30</span><span class="nk"> &lt;royce&gt;</span> right, this month is the vocation month:)
<a name="l-41"></a><span class="tm">13:07:38</span><span class="nk"> &lt;aglitke&gt;</span> Nice :)
<a name="l-42"></a><span class="tm">13:07:41</span><span class="nk"> &lt;AdamKingIT&gt;</span> I have UI teams plans except Yu Xin
<a name="l-43"></a><span class="tm">13:08:03</span><span class="nk"> &lt;zhoumeina&gt;</span> yuxin will take vocation from tomorrow
<a name="l-44"></a><span class="tm">13:08:04</span><span class="nk"> &lt;aglitke&gt;</span> The link I sent has updated feature status for the Sept releae
<a name="l-45"></a><span class="tm">13:08:14</span><span class="nk"> &lt;AdamKingIT&gt;</span> I'll create a way to share
<a name="l-46"></a><span class="tm">13:08:15</span><span class="nk"> &lt;royce&gt;</span> I can collect ours for you, aglitke
<a name="l-47"></a><span class="tm">13:08:22</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> Thanks!
<a name="l-48"></a><span class="tm">13:08:34</span><span class="nk"> &lt;royce&gt;</span> yw, aglitke
<a name="l-49"></a><span class="tm">13:08:44</span><span class="nk"> &lt;AdamKingIT&gt;</span> Royce, I'll share a "files" w/ you
<a name="l-50"></a><span class="tm">13:08:48</span><span class="nk"> &lt;ming&gt;</span> Also, please remove Bingbu from the owner.
<a name="l-51"></a><span class="tm">13:09:06</span><span class="nk"> &lt;aglitke&gt;</span> So, we have made progress on ISO scanning.  Thanks for all of the hard work on that feature.
<a name="l-52"></a><span class="tm">13:09:20</span><span class="nk"> &lt;aglitke&gt;</span> There is still some work to be done to polish the UI flow.
<a name="l-53"></a><span class="tm">13:09:21</span><span class="nk"> &lt;ming&gt;</span> I can take some of the tasks for him.
<a name="l-54"></a><span class="tm">13:10:00</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> Is bingbu still working with us?
<a name="l-55"></a><span class="tm">13:10:09</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> no
<a name="l-56"></a><span class="tm">13:10:23</span><span class="nk"> &lt;aglitke&gt;</span> oh :(
<a name="l-57"></a><span class="tm">13:10:46</span><span class="nk"> &lt;royce&gt;</span> many thanks to dingxin, changed it for many times with me...:P
<a name="l-58"></a><span class="tm">13:10:55</span><span class="nk"> &lt;zhoumeina&gt;</span> some of his patch have not been merged
<a name="l-59"></a><span class="tm">13:11:10</span><span class="nk"> &lt;aglitke&gt;</span> AdamKingIT / zhoumeina / hlwanghl: Did you get a chance to review my UI redesign proposal?
<a name="l-60"></a><span class="tm">13:11:38</span><span class="nk"> &lt;ming&gt;</span> Royce will take the refresh patch out from Bingbu's patch series.
<a name="l-61"></a><span class="tm">13:11:40</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">zhoumeina:</span> Yes, deep scan has not been fully reviewed.  Neither has streaming.  These two may push out to the next release.
<a name="l-62"></a><span class="tm">13:11:55</span><span class="nk"> &lt;aglitke&gt;</span> shallow scan was the most important for first release.
<a name="l-63"></a><span class="tm">13:12:17</span><span class="nk"> &lt;zhoumeina&gt;</span> <span class="hi">aglitke:</span> yes
<a name="l-64"></a><span class="tm">13:12:21</span><span class="nk"> &lt;AdamKingIT&gt;</span> No more since yesterday PM. I will go through it today and ping zhoumeina and dingxin tonight
<a name="l-65"></a><span class="tm">13:12:33</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">aglitke:</span> which one?I can review it tomorrow
<a name="l-66"></a><span class="tm">13:13:17</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">hlwanghl:</span> [project-kimchi] [PATCH] Create templates by shallow scan, deep scan and distros
<a name="l-67"></a><span class="tm">13:13:23</span><span class="nk"> &lt;hlwanghl&gt;</span> Ok
<a name="l-68"></a><span class="tm">13:13:27</span><span class="nk"> &lt;aglitke&gt;</span> I replied to this with my ideas.
<a name="l-69"></a><span class="tm">13:13:33</span><span class="nk"> &lt;zhoumeina&gt;</span> Ok, I can help too
<a name="l-70"></a><span class="tm">13:14:01</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> I think it is your comments on the patch sent by others?
<a name="l-71"></a><span class="tm">13:14:09</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> yes
<a name="l-72"></a><span class="tm">13:14:41</span><span class="nk"> &lt;aglitke&gt;</span> my idea is to have a wizard that advances when the user makes choices.
<a name="l-73"></a><span class="tm">13:15:08</span><span class="nk"> &lt;aglitke&gt;</span> And we need to reword some language to make it understandable by regular users.
<a name="l-74"></a><span class="tm">13:15:31</span><span class="nk"> &lt;aglitke&gt;</span> I wanted to take the patch as-is because it was close enough and serves as a good baseline.
<a name="l-75"></a><span class="tm">13:15:34</span><span class="nk"> &lt;ming&gt;</span> That is fine. deep and shallow scan make no sense to the user.
<a name="l-76"></a><span class="tm">13:16:14</span><span class="nk"> &lt;aglitke&gt;</span> For auth, I just sent some comments on a few small UI bugs I found when testing.
<a name="l-77"></a><span class="tm">13:16:41</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> yest I and Hongliang are working on this bugs
<a name="l-78"></a><span class="tm">13:16:47</span><span class="nk"> &lt;aglitke&gt;</span> great
<a name="l-79"></a><span class="tm">13:16:57</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">agltke:</span> we saw those bugs
<a name="l-80"></a><span class="tm">13:17:36</span><span class="nk"> &lt;ming&gt;</span> Still get a session timeout problem cause big change.
<a name="l-81"></a><span class="tm">13:17:37</span><span class="nk"> &lt;hlwanghl&gt;</span> y
<a name="l-82"></a><span class="tm">13:17:53</span><span class="nk"> &lt;aglitke&gt;</span> There is no portable way with PAM to check if the user is an admin.  So for now we will need to allow all users full access.
<a name="l-83"></a><span class="tm">13:18:27</span><span class="nk"> &lt;ming&gt;</span> That is bad.
<a name="l-84"></a><span class="tm">13:18:36</span><span class="nk"> &lt;aglitke&gt;</span> We will need to do some more work to figure out how to handle this.
<a name="l-85"></a><span class="tm">13:18:46</span><span class="nk"> &lt;aglitke&gt;</span> but that can wait until after the first release.
<a name="l-86"></a><span class="tm">13:18:50</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> not sure account mange can check the user is an admin
<a name="l-87"></a><span class="tm">13:18:50</span><span class="nk"> &lt;ming&gt;</span> Absolutely
<a name="l-88"></a><span class="tm">13:18:52</span><span class="nk"> &lt;aglitke&gt;</span> september release
<a name="l-89"></a><span class="tm">13:18:59</span><span class="nk"> &lt;hlwanghl&gt;</span> I fixed some bugs and sent the patches. Waiting for reviews
<a name="l-90"></a><span class="tm">13:19:27</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">hlwanghl:</span> did you send them just now?
<a name="l-91"></a><span class="tm">13:19:40</span><span class="nk"> &lt;royce&gt;</span> aglitke, do you mean every one would have same view ？
<a name="l-92"></a><span class="tm">13:19:41</span><span class="nk"> &lt;ming&gt;</span> I initiated a session timeout issue in the mailing list.
<a name="l-93"></a><span class="tm">13:19:43</span><span class="nk"> &lt;hlwanghl&gt;</span> Before I came home
<a name="l-94"></a><span class="tm">13:19:54</span><span class="nk"> &lt;aglitke&gt;</span> ok
<a name="l-95"></a><span class="tm">13:19:57</span><span class="nk"> &lt;hlwanghl&gt;</span> RFC PATCH b
<a name="l-96"></a><span class="tm">13:20:01</span><span class="nk"> &lt;hlwanghl&gt;</span> v3
<a name="l-97"></a><span class="tm">13:20:16</span><span class="nk"> &lt;hlwanghl&gt;</span> 2 hours before
<a name="l-98"></a><span class="tm">13:20:38</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> Yes.  and any user is allowed to perform all operations.
<a name="l-99"></a><span class="tm">13:22:00</span><span class="nk"> &lt;royce&gt;</span> is this limit of PAM? forgive my ignorance:)
<a name="l-100"></a><span class="tm">13:22:01</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> auth sufficient pam_rootok.so — This line uses the pam_rootok.so  module to check whether the current user is root, by verifying that  their UID is 0. If this test succeeds, no other modules are consulted  and the command is executed. If this test fails, the next module is  consulted.
<a name="l-101"></a><span class="tm">13:22:30</span><span class="nk"> &lt;aglitke&gt;</span> What if the system is configured to log in via ldap?
<a name="l-102"></a><span class="tm">13:22:31</span><span class="nk"> &lt;ming&gt;</span> We need keep the session time out behavior the same idling at different pages
<a name="l-103"></a><span class="tm">13:22:54</span><span class="nk"> &lt;aglitke&gt;</span> I think we can fix this in the future with authorization.
<a name="l-104"></a><span class="tm">13:23:25</span><span class="nk"> &lt;aglitke&gt;</span> I will post a message to the list with some ideas and we can discuss there.
<a name="l-105"></a><span class="tm">13:23:47</span><span class="nk"> &lt;hlwanghl&gt;</span> Firstly, we allow only root user to log in. And root user to grant access to other users
<a name="l-106"></a><span class="tm">13:23:49</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#action </span><span class="cmdline">aglitke to start a discussion about authorization.</span>
<a name="l-107"></a><span class="tm">13:24:04</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">hlwanghl:</span> Yes, basically that's it.
<a name="l-108"></a><span class="tm">13:24:42</span><span class="nk"> &lt;ming&gt;</span> user can define what the layout of the user information in ldap and to know who is the admin in ldap.
<a name="l-109"></a><span class="tm">13:24:43</span><span class="nk"> &lt;aglitke&gt;</span> ok... let's move on...
<a name="l-110"></a><span class="tm">13:24:57</span><span class="nk"> &lt;hlwanghl&gt;</span> Anyway, in our future plan. Currently we don't handle this
<a name="l-111"></a><span class="tm">13:25:13</span><span class="nk"> &lt;aglitke&gt;</span> For Storage Pool APIs
<a name="l-112"></a><span class="tm">13:25:37</span><span class="nk"> &lt;aglitke&gt;</span> AdamKingIT has suggested some constraints that I think make sense for us.,
<a name="l-113"></a><span class="tm">13:25:38</span><span class="nk"> &lt;zhoumeina&gt;</span> ok, I already drop the create and delete volumes
<a name="l-114"></a><span class="tm">13:25:52</span><span class="nk"> &lt;aglitke&gt;</span> kimchi can work with any existing storage pools
<a name="l-115"></a><span class="tm">13:25:55</span><span class="nk"> &lt;aglitke&gt;</span> But...
<a name="l-116"></a><span class="tm">13:26:19</span><span class="nk"> &lt;aglitke&gt;</span> when creating new pools, kimchi will only create new, empty directories.
<a name="l-117"></a><span class="tm">13:26:23</span><span class="nk"> &lt;ming&gt;</span> aglitke, we need re-iterate the basic assumption of Kimchi.
<a name="l-118"></a><span class="tm">13:26:45</span><span class="nk"> &lt;aglitke&gt;</span> You cannot use kimchi to create a pool over an existing directory.
<a name="l-119"></a><span class="tm">13:27:13</span><span class="nk"> &lt;aglitke&gt;</span> A pool can only be deleted if it contains zero volumes.
<a name="l-120"></a><span class="tm">13:27:18</span><span class="nk"> &lt;ming&gt;</span> How about the directory with ISO images?
<a name="l-121"></a><span class="tm">13:27:27</span><span class="nk"> &lt;royce&gt;</span> what if we had a iso directory?
<a name="l-122"></a><span class="tm">13:27:49</span><span class="nk"> &lt;royce&gt;</span> and what about future nfs pool?
<a name="l-123"></a><span class="tm">13:27:53</span><span class="nk"> &lt;ming&gt;</span> That is what shallow scan try to scan.
<a name="l-124"></a><span class="tm">13:28:03</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> Would you like to address this part?
<a name="l-125"></a><span class="tm">13:28:30</span><span class="nk"> &lt;zhoumeina&gt;</span> I think kimchi can create a new pool by an empty folder, or create a new folder.
<a name="l-126"></a><span class="tm">13:28:42</span><span class="nk"> &lt;AdamKingIT&gt;</span> Pool's created by virsh would be recognized and used
<a name="l-127"></a><span class="tm">13:29:25</span><span class="nk"> &lt;AdamKingIT&gt;</span> After creating a pool, user could link or create ISOs in the pool
<a name="l-128"></a><span class="tm">13:29:46</span><span class="nk"> &lt;aglitke&gt;</span> what would be the interface for doing that?
<a name="l-129"></a><span class="tm">13:30:04</span><span class="nk"> &lt;ming&gt;</span> How to create ISOs? by coping the files to the directory manully?
<a name="l-130"></a><span class="tm">13:30:20</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">ming:</span> link？
<a name="l-131"></a><span class="tm">13:30:22</span><span class="nk"> &lt;AdamKingIT&gt;</span> That would work. We had also talked abuot (eventually) allowing ISO upload
<a name="l-132"></a><span class="tm">13:31:02</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">AdamKingIT:</span> that's great, iso upload
<a name="l-133"></a><span class="tm">13:31:24</span><span class="nk"> &lt;ming&gt;</span> So we are almost near the proposal before to have a special ISO pool for kimchi.  The admin can copy all the required ISOs to the directory.
<a name="l-134"></a><span class="tm">13:31:25</span><span class="nk"> &lt;royce&gt;</span> In most cases our admin stores all his isos in a directory or nfs directory
<a name="l-135"></a><span class="tm">13:31:46</span><span class="nk"> &lt;hlwanghl&gt;</span> Upload ISO through HTTP may take long time. Though anyway, it's a choice
<a name="l-136"></a><span class="tm">13:32:16</span><span class="nk"> &lt;aglitke&gt;</span> I am still uncertain about the iso use cases
<a name="l-137"></a><span class="tm">13:32:45</span><span class="nk"> &lt;AdamKingIT&gt;</span> I have lost track of deep scan, but we had talked about implicitly creating a pool w/ links to  the discovered ISOs at one pt
<a name="l-138"></a><span class="tm">13:33:00</span><span class="nk"> &lt;ming&gt;</span> We abandoned the proposal and got a new idea to scan the storage pools for ISOs which are dispersed around.
<a name="l-139"></a><span class="tm">13:33:13</span><span class="nk"> &lt;royce&gt;</span> AdamKingIT, that is deep scan do
<a name="l-140"></a><span class="tm">13:33:35</span><span class="nk"> &lt;aglitke&gt;</span> There are some issues for upcoming NFS pools.
<a name="l-141"></a><span class="tm">13:33:48</span><span class="nk"> &lt;AdamKingIT&gt;</span> <span class="hi">royce:</span> deep scan creates a pool with links to discovered ISOs?
<a name="l-142"></a><span class="tm">13:33:56</span><span class="nk"> &lt;royce&gt;</span> but leave shallow scan useless if we have a directory of isos
<a name="l-143"></a><span class="tm">13:34:05</span><span class="nk"> &lt;royce&gt;</span> right, AdamKingIT
<a name="l-144"></a><span class="tm">13:34:18</span><span class="nk"> &lt;aglitke&gt;</span> If I want deep scan over nfs to work I'd need to have the remote iso directory mounted.  The only way to do that is to create a pool.
<a name="l-145"></a><span class="tm">13:34:21</span><span class="nk"> &lt;AdamKingIT&gt;</span> k, so once we do 1 deep scan, shallow scan will be quick
<a name="l-146"></a><span class="tm">13:34:28</span><span class="nk"> &lt;aglitke&gt;</span> But we cannot create a pool on a non-empty dir,.
<a name="l-147"></a><span class="tm">13:34:38</span><span class="nk"> &lt;royce&gt;</span> right, aglitke
<a name="l-148"></a><span class="tm">13:35:11</span><span class="nk"> &lt;AdamKingIT&gt;</span> you need a pool to mount nfs? (sorry my NFS days are a but rusty)
<a name="l-149"></a><span class="tm">13:35:16</span><span class="nk"> &lt;AdamKingIT&gt;</span> *bit
<a name="l-150"></a><span class="tm">13:35:25</span><span class="nk"> &lt;aglitke&gt;</span> I think this needs further discussion on-list.  Here, we should try to help clarify what should be in place for September release.
<a name="l-151"></a><span class="tm">13:35:57</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> THat is the sanest way to do it.  Have libvirt handle the mounting and unmounting of the nfs filesystem
<a name="l-152"></a><span class="tm">13:36:11</span><span class="nk"> &lt;ming&gt;</span> aglitke. It seems we will have a a bit broken storage pool in Kimchi in this release.
<a name="l-153"></a><span class="tm">13:36:33</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> why?
<a name="l-154"></a><span class="tm">13:37:14</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> It seems the constraints proposed here is not applicable.
<a name="l-155"></a><span class="tm">13:39:08</span><span class="nk"> &lt;AdamKingIT&gt;</span> I think we are trying to handle 2 different scenarios. The constraints proposed handle one well, the other less well...
<a name="l-156"></a><span class="tm">13:39:09</span><span class="nk"> &lt;aglitke&gt;</span> Maybe for the first release we just need no constraints
<a name="l-157"></a><span class="tm">13:39:12</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> But if we don't have the constraints, the syntax of storagepool like delete operations is broken for a pool created by Kimchi on a directory containing others' files.
<a name="l-158"></a><span class="tm">13:40:07</span><span class="nk"> &lt;AdamKingIT&gt;</span> The main scenario of concern is creating a pool to "manage" the ISOs correct?
<a name="l-159"></a><span class="tm">13:40:34</span><span class="nk"> &lt;AdamKingIT&gt;</span> which for local ISOs we can handle via deep scan
<a name="l-160"></a><span class="tm">13:40:53</span><span class="nk"> &lt;AdamKingIT&gt;</span> for NFS mounted ones, we'd have to revert to virsh to handle
<a name="l-161"></a><span class="tm">13:41:02</span><span class="nk"> &lt;aglitke&gt;</span> which is terrible
<a name="l-162"></a><span class="tm">13:41:04</span><span class="nk"> &lt;AdamKingIT&gt;</span> given current constraints.
<a name="l-163"></a><span class="tm">13:41:21</span><span class="nk"> &lt;aglitke&gt;</span> it's probably the most likely use of NFS with kimchi
<a name="l-164"></a><span class="tm">13:41:36</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">AdamKingIT:</span>  Do you mean the user to use virsh to handle the pool?
<a name="l-165"></a><span class="tm">13:41:39</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">AdamKingIT:</span> why do we need virsh to handle?
<a name="l-166"></a><span class="tm">13:42:03</span><span class="nk"> &lt;AdamKingIT&gt;</span> I mean the user could use virst to create a pool for the nfs mount, then Kimchi could handle everything else
<a name="l-167"></a><span class="tm">13:42:51</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">AdamKingIT:</span> IMO, why not kimchi  create a pool  for nfs mount directly ?
<a name="l-168"></a><span class="tm">13:43:23</span><span class="nk"> &lt;AdamKingIT&gt;</span> That gets into the constraints of create pool always creates a new dir...
<a name="l-169"></a><span class="tm">13:43:30</span><span class="nk"> &lt;hlwanghl&gt;</span> simplify work
<a name="l-170"></a><span class="tm">13:43:36</span><span class="nk"> &lt;royce&gt;</span> BTW, the iscsi pool should always containing volume, not empty, because virsh does not create volume from iscsi pool
<a name="l-171"></a><span class="tm">13:43:58</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">shaohef:</span> the issue here how can Kimchi handle the pool created by itself with other's files under.
<a name="l-172"></a><span class="tm">13:44:19</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> I'd say that is the user's problem if there are other files under.
<a name="l-173"></a><span class="tm">13:44:35</span><span class="nk"> &lt;aglitke&gt;</span> right now we are not supporting attaching volumes to vms or anything like that.
<a name="l-174"></a><span class="tm">13:44:59</span><span class="nk"> &lt;aglitke&gt;</span> so at the moment the only consequence is a bit of noise in the UI for arbitrary files.
<a name="l-175"></a><span class="tm">13:45:25</span><span class="nk"> &lt;AdamKingIT&gt;</span> and the security vulnerability that the user can delete anything as root, which is worse the virsh IMO
<a name="l-176"></a><span class="tm">13:46:07</span><span class="nk"> &lt;AdamKingIT&gt;</span> I think deep scan is a decent soln for local ISO pools...
<a name="l-177"></a><span class="tm">13:46:30</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> also the issue is if Kimchi can delete the pool created by itself. especially the pool containing others' files.
<a name="l-178"></a><span class="tm">13:46:38</span><span class="nk"> &lt;AdamKingIT&gt;</span> Question is how can we deal w/ NFS. What if we had a 'create network pool' scenario?
<a name="l-179"></a><span class="tm">13:47:06</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> deleting a pool does not delete the contained files.
<a name="l-180"></a><span class="tm">13:47:07</span><span class="nk"> &lt;AdamKingIT&gt;</span> can we tell if its NFS, and contains ISOs exclusively?
<a name="l-181"></a><span class="tm">13:47:29</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> We could, but special cases confuse users.
<a name="l-182"></a><span class="tm">13:47:42</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> It is pool undefine other than delete.
<a name="l-183"></a><span class="tm">13:47:56</span><span class="nk"> &lt;AdamKingIT&gt;</span> I am not thinking of it as a special case...
<a name="l-184"></a><span class="tm">13:48:37</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> ming: IMO, undefine means for delete pool.delete means delete the dir.
<a name="l-185"></a><span class="tm">13:48:44</span><span class="nk"> &lt;AdamKingIT&gt;</span> A new virtualization user will be very confused by 'unmanaged' volumes being stranded by kimchi
<a name="l-186"></a><span class="tm">13:48:49</span><span class="nk"> &lt;aglitke&gt;</span> I think this discussion needs to move back to the list.
<a name="l-187"></a><span class="tm">13:48:56</span><span class="nk"> &lt;ming&gt;</span> RFC:Several things made me headache in storage pool, needs discuss with all of you.
<a name="l-188"></a><span class="tm">13:48:57</span><span class="nk"> &lt;zhoumeina&gt;</span> but if user put some files in the pool. and the pool will be can not delete. This is a problem for our design in this release.
<a name="l-189"></a><span class="tm">13:49:12</span><span class="nk"> &lt;aglitke&gt;</span> I don't see us reaching consensus in the next 12 minutes.
<a name="l-190"></a><span class="tm">13:49:21</span><span class="nk"> &lt;royce&gt;</span> heh
<a name="l-191"></a><span class="tm">13:49:29</span><span class="nk"> &lt;AdamKingIT&gt;</span> if the user is smart enough to use the sh to copy files in, user can move files out
<a name="l-192"></a><span class="tm">13:49:51</span><span class="nk"> &lt;aglitke&gt;</span> that requires a user to log into the host (which violates a core kimchi principle)
<a name="l-193"></a><span class="tm">13:49:56</span><span class="nk"> &lt;zhoumeina&gt;</span> <span class="hi">AdamKingIT:</span> that make sense
<a name="l-194"></a><span class="tm">13:50:15</span><span class="nk"> &lt;AdamKingIT&gt;</span> the files wouldn't be moved in if the user hadn't loged into the host
<a name="l-195"></a><span class="tm">13:50:27</span><span class="nk"> &lt;hlwanghl&gt;</span> To keep simple is a good direction
<a name="l-196"></a><span class="tm">13:50:32</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">aglitke:</span> I think we need list out the basic core principle out somewhere.
<a name="l-197"></a><span class="tm">13:50:44</span><span class="nk"> &lt;aglitke&gt;</span> ok.  I strongly feel this needs to move to the list.  Who wants to start/restart the thread there?
<a name="l-198"></a><span class="tm">13:51:01</span><span class="nk"> &lt;ming&gt;</span> Meina already started one.
<a name="l-199"></a><span class="tm">13:51:15</span><span class="nk"> &lt;ming&gt;</span> RFC:Several things made me headache in storage pool, needs discuss with all of you.
<a name="l-200"></a><span class="tm">13:51:22</span><span class="nk"> &lt;AdamKingIT&gt;</span> I would say my rply to your comments is where we stand, I can repeat it on meina's thread
<a name="l-201"></a><span class="tm">13:51:50</span><span class="nk"> &lt;aglitke&gt;</span> ok.  I'll ask everyone with ideas on this topic to reengage in that thread.  There are too many ideas and issues so this may take some time to resolve.
<a name="l-202"></a><span class="tm">13:52:06</span><span class="nk"> &lt;royce&gt;</span> we can start a single thread for this
<a name="l-203"></a><span class="tm">13:52:30</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">ming:</span> authentication session timeout
<a name="l-204"></a><span class="tm">13:54:01</span><span class="nk"> &lt;ming&gt;</span> I initiated a thread in the list.
<a name="l-205"></a><span class="tm">13:54:32</span><span class="nk"> &lt;hlwanghl&gt;</span> You sin introduced a user scenario: custom wants session never time out
<a name="l-206"></a><span class="tm">13:55:00</span><span class="nk"> &lt;ming&gt;</span> The basic idea is how we can make the timeout behavior the same if the user stays idle on different pages
<a name="l-207"></a><span class="tm">13:55:34</span><span class="nk"> &lt;ming&gt;</span> especially on the pages with/without AJAX request.
<a name="l-208"></a><span class="tm">13:56:03</span><span class="nk"> &lt;alinefm_&gt;</span> we can have a counter internally that is reset on each server request
<a name="l-209"></a><span class="tm">13:56:19</span><span class="nk"> &lt;alinefm_&gt;</span> if counter is equal the timeout value the session needs to expire
<a name="l-210"></a><span class="tm">13:57:20</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">alinefm:</span> cherrypy make the session timeout automatically if there is not request for a while.
<a name="l-211"></a><span class="tm">13:58:04</span><span class="nk"> &lt;AdamKingIT&gt;</span> we need that behavior to clean up from users just closing the browser
<a name="l-212"></a><span class="tm">13:58:21</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">alinefm:</span> But the guest pages in Kimchi do AJAX request every five minutes which keep the session live for ever even if the user doesn't input anything.
<a name="l-213"></a><span class="tm">13:58:25</span><span class="nk"> &lt;zhoumeina&gt;</span> for user scenario I think time out is needed. So the main problem is the guest page. I advise to make it in a certain configuration.
<a name="l-214"></a><span class="tm">13:58:51</span><span class="nk"> &lt;aglitke&gt;</span> Can we reset the counter only for html pages?
<a name="l-215"></a><span class="tm">13:59:22</span><span class="nk"> &lt;aglitke&gt;</span> or any static content I guess.
<a name="l-216"></a><span class="tm">13:59:35</span><span class="nk"> &lt;AdamKingIT&gt;</span> we have a number of interactions where the user is interacting, but only dynamic content will be fetched
<a name="l-217"></a><span class="tm">13:59:58</span><span class="nk"> &lt;alinefm_&gt;</span> aglitke, I was thinking that way
<a name="l-218"></a><span class="tm">14:00:12</span><span class="nk"> &lt;alinefm_&gt;</span> only reset the counter according to user-agent
<a name="l-219"></a><span class="tm">14:00:48</span><span class="nk"> &lt;hlwanghl&gt;</span> If we decide to enable timeout for guests page, we can add special processing
<a name="l-220"></a><span class="tm">14:01:18</span><span class="nk"> &lt;AdamKingIT&gt;</span> the way i have handled in the past is to have authentication timeout separate from session timeout
<a name="l-221"></a><span class="tm">14:01:19</span><span class="nk"> &lt;zhoumeina&gt;</span> What special processing?
<a name="l-222"></a><span class="tm">14:01:28</span><span class="nk"> &lt;royce&gt;</span> I suggest using cookie timeout together with session timeout, if cookie timeout than session time out occurs, since cookie is just for sessionid
<a name="l-223"></a><span class="tm">14:01:33</span><span class="nk"> &lt;ming&gt;</span> <span class="hi">alinefm_:</span>  I believe cherrpy get internal counter for that.
<a name="l-224"></a><span class="tm">14:01:48</span><span class="nk"> &lt;hlwanghl&gt;</span> The problem is it's possible that user wants to see guests "forever"
<a name="l-225"></a><span class="tm">14:02:30</span><span class="nk"> &lt;ming&gt;</span> Please follow my thread to add your ideas.
<a name="l-226"></a><span class="tm">14:02:45</span><span class="nk"> &lt;hlwanghl&gt;</span> So probably we need add a configuration to allow user enable it or disable it
<a name="l-227"></a><span class="tm">14:02:58</span><span class="nk"> &lt;aglitke&gt;</span> ok, time is up today.  Let's participate in the discussion on the mailing list.
<a name="l-228"></a><span class="tm">14:03:06</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
